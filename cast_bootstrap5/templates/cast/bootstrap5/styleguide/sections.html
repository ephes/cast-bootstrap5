{% load i18n %}
{% load crispy_forms_tags %}
{% load comments %}

<section id="typography" class="mb-5">
  <h2 class="h3">{% translate "Typography" %}</h2>
  <p class="lead">{% translate "Lead paragraph to show rhythm and spacing." %}</p>
  <p>
    {% translate "Body text with" %}
    <a href="#">{% translate "inline link" %}</a>,
    <strong>{% translate "emphasis" %}</strong>,
    <em>{% translate "italics" %}</em>,
    <code>code</code>.
  </p>
  <ul>
    <li>{% translate "Unordered list item" %}</li>
    <li>{% translate "Another list item" %}</li>
  </ul>
  <ol>
    <li>{% translate "Ordered list item" %}</li>
    <li>{% translate "Second ordered item" %}</li>
  </ol>
  <blockquote class="blockquote">
    <p class="mb-0">{% translate "Blockquote sample for editorial layouts." %}</p>
    <footer class="blockquote-footer">{% translate "Attribution" %}</footer>
  </blockquote>
</section>

<section id="palette" class="mb-5">
  <h2 class="h3">{% translate "Palette & tokens" %}</h2>
  <p class="text-muted">
    {% translate "Semantic tokens define the light and dark palette. Switch color mode to review the paired values." %}
  </p>
  <div class="row row-cols-1 row-cols-lg-2 g-3 mb-4">
    <div class="col">
      <div class="card h-100">
        <div class="card-body">
          <h3 class="h6">{% translate "Brand accents" %}</h3>
          <div class="d-flex flex-wrap gap-2">
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-accent);"></span>
              <code>--cast-accent</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-accent-hover);"></span>
              <code>--cast-accent-hover</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-accent-light);"></span>
              <code>--cast-accent-light</code>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100">
        <div class="card-body">
          <h3 class="h6">{% translate "Backgrounds" %}</h3>
          <div class="d-flex flex-wrap gap-2">
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-bg);"></span>
              <code>--cast-bg</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-bg-alt);"></span>
              <code>--cast-bg-alt</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-surface);"></span>
              <code>--cast-surface</code>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100">
        <div class="card-body">
          <h3 class="h6">{% translate "Text" %}</h3>
          <div class="d-flex flex-wrap gap-2">
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-text);"></span>
              <code>--cast-text</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-text-muted);"></span>
              <code>--cast-text-muted</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-text-light);"></span>
              <code>--cast-text-light</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-link-on-white);"></span>
              <code>--cast-link-on-white</code>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100">
        <div class="card-body">
          <h3 class="h6">{% translate "Borders" %}</h3>
          <div class="d-flex flex-wrap gap-2">
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-border);"></span>
              <code>--cast-border</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-border-strong);"></span>
              <code>--cast-border-strong</code>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100">
        <div class="card-body">
          <h3 class="h6">{% translate "Status" %}</h3>
          <div class="d-flex flex-wrap gap-2">
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-success);"></span>
              <code>--cast-success</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-warning);"></span>
              <code>--cast-warning</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-error);"></span>
              <code>--cast-error</code>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card h-100">
        <div class="card-body">
          <h3 class="h6">{% translate "Code" %}</h3>
          <div class="d-flex flex-wrap gap-2">
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-code-bg);"></span>
              <code>--cast-code-bg</code>
            </div>
            <div class="d-inline-flex align-items-center gap-2 border rounded px-2 py-1">
              <span class="cast-styleguide-swatch" aria-hidden="true" style="background-color: var(--cast-code-text);"></span>
              <code>--cast-code-text</code>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <h3 class="h5">{% translate "Override example" %}</h3>
  <p class="text-muted">
    {% translate "Override tokens in a site stylesheet loaded after cast.css." %}
  </p>
  <pre class="bg-body-tertiary p-3 rounded"><code class="language-css">:root {
  --cast-accent: #0891b2;
  --cast-accent-hover: #0e7490;
  --cast-accent-light: #cffafe;
  --cast-bg: #f8fafc;
  --cast-bg-alt: #e2e8f0;
  --cast-surface: #ffffff;
  --cast-text: #0f172a;
  --cast-text-muted: #475569;
  --cast-border: #cbd5e1;
  --cast-border-strong: #94a3b8;
}</code></pre>
  <div class="row g-3 mt-2 cast-styleguide-token-preview">
    <div class="col-md-6">
      <div class="card h-100">
        <div class="card-body">
          <p class="text-uppercase text-muted small mb-2">{% translate "Default palette" %}</p>
          <a class="btn btn-primary btn-sm" href="#">{% translate "Primary" %}</a>
          <a class="btn btn-outline-secondary btn-sm ms-2" href="#">{% translate "Secondary" %}</a>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card h-100" style="--cast-accent: #0891b2; --cast-accent-hover: #0e7490; --cast-accent-light: #cffafe; --cast-bg: #f8fafc; --cast-bg-alt: #e2e8f0; --cast-surface: #ffffff; --cast-text: #0f172a; --cast-text-muted: #475569; --cast-border: #cbd5e1; --cast-border-strong: #94a3b8;">
        <div class="card-body">
          <p class="text-uppercase text-muted small mb-2">{% translate "Override preview" %}</p>
          <a class="btn btn-primary btn-sm" href="#">{% translate "Primary" %}</a>
          <a class="btn btn-outline-secondary btn-sm ms-2" href="#">{% translate "Secondary" %}</a>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="buttons" class="mb-5">
  <h2 class="h3">{% translate "Buttons & links" %}</h2>
  <div class="d-flex flex-wrap">
    <a class="btn btn-primary me-2 mb-2" href="#">{% translate "Primary" %}</a>
    <a class="btn btn-secondary me-2 mb-2" href="#">{% translate "Secondary" %}</a>
    <button class="btn btn-outline-secondary mb-2" type="button" disabled>{% translate "Disabled" %}</button>
  </div>
</section>

<section id="forms" class="mb-5">
  <h2 class="h3">{% translate "Forms" %}</h2>
  <div class="card">
    <div class="card-body">
      {% include "cast/bootstrap5/_filter_form.html" with page=blog filterset=filterset %}
    </div>
  </div>
</section>

<section id="search-filters" class="mb-5">
  <h2 class="h3">{% translate "Search & Filters" %}</h2>

  <h3 class="h5 mt-4">{% translate "Search trigger (navbar icon)" %}</h3>
  <div class="d-flex gap-3 align-items-center mb-3">
    <div>
      <p class="text-muted small mb-1">{% translate "Default" %}</p>
      <button type="button" class="cast-search-trigger" aria-label="{% translate 'Search posts' %}">
        <svg aria-hidden="true" class="cast-follow-icon" width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85zm-5.242.656a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"/>
        </svg>
        <kbd class="cast-search-kbd">&#8984;K</kbd>
      </button>
    </div>
    <div>
      <p class="text-muted small mb-1">{% translate "With active filters" %}</p>
      <button type="button" class="cast-search-trigger has-active-filters" aria-label="{% translate 'Search posts' %}">
        <svg aria-hidden="true" class="cast-follow-icon" width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85zm-5.242.656a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"/>
        </svg>
        <kbd class="cast-search-kbd">&#8984;K</kbd>
      </button>
    </div>
  </div>

  <h3 class="h5 mt-4">{% translate "Search modal (static preview)" %}</h3>
  <div class="card mb-3" style="max-width: 600px;">
    {% if filterset %}
      <div class="cast-search-modal" style="position: static; box-shadow: none; max-height: none;">
        <form action="#" method="get" class="cast-search-modal-form">
          <div class="cast-search-modal-header">
            <svg class="cast-follow-icon" aria-hidden="true" width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
              <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85zm-5.242.656a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"/>
            </svg>
            {{ filterset.form.search|as_crispy_field }}
            <button type="button" class="cast-search-modal-close" aria-label="{% translate 'Close' %}">
              <kbd>Esc</kbd>
            </button>
          </div>
          <div class="cast-search-modal-body">
            {% if "date_facets" in filterset.form.fields %}
              <details class="cast-modal-filter-panel" open>
                <summary>{% translate "Date" %}</summary>
                <div class="cast-modal-filter-content">
                  <div class="cast-facet-group" data-cast-facet-group data-limit="12">
                    {{ filterset.form.date_facets }}
                  </div>
                </div>
              </details>
            {% endif %}
            {% if "tag_facets" in filterset.form.fields %}
              <details class="cast-modal-filter-panel" open>
                <summary>{% translate "Tags" %}</summary>
                <div class="cast-modal-filter-content">
                  <div class="cast-facet-group" data-cast-facet-group data-limit="12">
                    {{ filterset.form.tag_facets }}
                  </div>
                </div>
              </details>
            {% endif %}
            {% if "category_facets" in filterset.form.fields %}
              <details class="cast-modal-filter-panel" open>
                <summary>{% translate "Categories" %}</summary>
                <div class="cast-modal-filter-content">
                  <div class="cast-facet-group" data-cast-facet-group data-limit="12">
                    {{ filterset.form.category_facets }}
                  </div>
                </div>
              </details>
            {% endif %}
            {% if "o" in filterset.form.fields %}
              <details class="cast-modal-filter-panel">
                <summary>{% translate "Ordering" %}</summary>
                <div class="cast-modal-filter-content">
                  {{ filterset.form.o|as_crispy_field }}
                </div>
              </details>
            {% endif %}
          </div>
          <div class="cast-search-modal-footer">
            <a href="#" class="cast-btn-clear">{% translate "Clear all" %}</a>
            <button type="button" class="cast-btn-search">{% translate "Search" %}</button>
          </div>
        </form>
      </div>
    {% endif %}
  </div>

  <h3 class="h5 mt-4">{% translate "Active filter bar (sample)" %}</h3>
  <nav class="cast-active-filters" aria-label="{% translate 'Active filters' %}">
    <ul class="cast-filter-tags">
      <li class="cast-filter-tag">
        <span>{% translate "Search" %}: "django"</span>
        <a href="#" class="cast-filter-tag-remove" aria-label="{% translate 'Remove search filter' %}">&#10005;</a>
      </li>
      <li class="cast-filter-tag">
        <span>{% translate "Tag" %}: python (3)</span>
        <a href="#" class="cast-filter-tag-remove" aria-label="{% translate 'Remove' %} Tag">&#10005;</a>
      </li>
      <li class="cast-filter-tag">
        <span>{% translate "Category" %}: Today I Learned (2)</span>
        <a href="#" class="cast-filter-tag-remove" aria-label="{% translate 'Remove' %} Category">&#10005;</a>
      </li>
    </ul>
    <a href="#" class="cast-filter-clear-all">{% translate "Clear all" %}</a>
  </nav>
</section>

<section id="post-list" class="mb-5">
  <h2 class="h3">{% translate "Post list" %}</h2>
  <div id="paging-area">
    {% include "cast/"|add:template_base_dir|add:"/_list_of_posts_and_paging_controls.html" %}
  </div>
</section>

<section id="content-blocks" class="mb-5">
  <h2 class="h3">{% translate "Content blocks" %}</h2>
  {% include "cast/"|add:template_base_dir|add:"/post_body.html" with page=styleguide_media_post render_detail=True repository=styleguide_media_repository template_base_dir=template_base_dir %}
</section>

<section id="gallery" class="mb-5">
  <h2 class="h3">{% translate "Gallery" %}</h2>
  {% for gallery_html in styleguide_gallery_blocks %}
    {{ gallery_html|safe }}
  {% endfor %}
</section>

<section id="audio" class="mb-5">
  <h2 class="h3">{% translate "Audio" %}</h2>
  {% include "cast/audio/audio.html" with value=styleguide_audio page=styleguide_media_post render_for_feed=False %}
  <div class="mt-3">
    {% include "cast/"|add:template_base_dir|add:"/styleguide/_transcript.html" with styleguide_transcript=styleguide_transcript_excerpt styleguide_episode=None %}
  </div>
</section>

<section id="video" class="mb-5">
  <h2 class="h3">{% translate "Video" %}</h2>
  <p class="text-muted">
    {% translate "Intro paragraph for video placement inside a longer post. Use this to judge spacing before the player." %}
  </p>
  {% include "cast/video/video.html" with value=styleguide_video %}
  <p class="mt-3">
    {% translate "Closing paragraph after the video for checking spacing and readability in context." %}
  </p>
</section>

<section id="episode" class="mb-5">
  <h2 class="h3">{% translate "Episode" %}</h2>
  {% include "cast/"|add:template_base_dir|add:"/post_body.html" with page=styleguide_episode render_detail=True repository=styleguide_episode_repository template_base_dir=template_base_dir episode_transcript_url=styleguide_episode_transcript_url %}
</section>

<section id="transcript" class="mb-5">
  <h2 class="h3">{% translate "Transcript" %}</h2>
  {% include "cast/"|add:template_base_dir|add:"/styleguide/_transcript.html" %}
</section>

<section id="comments" class="mb-5">
  <h2 class="h3">{% translate "Comments" %}</h2>
  {% if styleguide_comments_enabled %}
    {% render_comment_list for styleguide_media_post %}
    {% render_comment_form for styleguide_media_post %}
  {% else %}
    <p class="text-muted">
      {% translate "Comments are disabled. Enable CAST_COMMENTS_ENABLED to preview the comment UI." %}
    </p>
  {% endif %}
</section>

<section id="errors" class="mb-5">
  <h2 class="h3">{% translate "Error pages" %}</h2>
  <div class="row">
    <div class="col-md-6 mb-3">
      {% include "cast/errors/error_content.html" with title="Bad Request" heading="Bad request!" message="Something in your request was just not right." %}
    </div>
    <div class="col-md-6 mb-3">
      {% include "cast/errors/error_content.html" with title="Permission Denied" heading="Permission Denied!" message="Authorization failed." %}
    </div>
    <div class="col-md-6 mb-3">
      {% include "cast/errors/error_content.html" with title="Page not found" heading="Page not found" message="This is not the page you were looking for." %}
    </div>
    <div class="col-md-6 mb-3">
      {% include "cast/errors/error_content.html" with title="Server Error" heading="Ooops!!! 500" subheading="Looks like something went wrong!" message="We track these errors automatically, but if the problem persists feel free to contact us. In the meantime, try refreshing." %}
    </div>
  </div>
</section>
