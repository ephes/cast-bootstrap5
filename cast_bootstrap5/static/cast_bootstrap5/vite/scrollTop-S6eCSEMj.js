const S=".cast-scroll-top";let s=null,i=null,r=null,o=null,d=null;function u(){return typeof document=="undefined"?null:document}function f(){return typeof window=="undefined"?null:window}function h(e,n,t){const l=Math.max(0,t-n),c=Math.min(400,l*.5);return{show:l>300&&e>c,threshold:c,scrollable:l}}function a(e){const n=u(),t=f();if(!n||!t)return;const l=h(t.scrollY,t.innerHeight,n.documentElement.scrollHeight);e.classList.toggle("is-visible",l.show),e.tabIndex=l.show?0:-1,e.setAttribute("aria-hidden",l.show?"false":"true")}function L(){const e=f();if(!e){s=null,i=null,r=null,o=null;return}i&&e.removeEventListener("scroll",i),r&&e.removeEventListener("resize",r),s&&o&&s.removeEventListener("click",o),s=null,i=null,r=null,o=null}function w(e){const n=u(),t=f();if(!n||!t)return;let l=!1;const c=()=>{l||(t.requestAnimationFrame(()=>{a(e),l=!1}),l=!0)};i=c,r=c,o=()=>{t.scrollTo({top:0,behavior:"smooth"})},t.addEventListener("scroll",i,{passive:!0}),t.addEventListener("resize",r,{passive:!0}),e.addEventListener("click",o),s=e,a(e)}function I(){const e=u();if(!e)return;const n=e.querySelector(S);if(!n){L();return}if(s!==n||!i||!r||!o){L(),w(n);return}a(n)}function E(){const e=u();e&&(d||(d=()=>{I()},e.addEventListener("htmx:afterSwap",d)),I())}typeof document!="undefined"&&E();
